[
  {
    "objectID": "index.html",
    "href": "index.html",
    "title": "Pedestrian Fatalities in NYS",
    "section": "",
    "text": "Introduction\nPedestrian safety across the U.S. has declined significantly over the past several decades. According to the U.S. Department of Transportation, 7,388 pedestrians were killed in motor vehicle crashes in 2021 which represents a 12.5 percent increase from 2020 and a 40 year high (U.S. DOT, 2023).\n\n\nResearch Questions\n\nAre national trends in fatal accidents involving pedestrians and cyclists present at the state level?\nWhat is the geospatial distribution of crashes involving pedestrians and bicyclists across NYS by county?\nWhat are the most common causes of pedestrian and cyclist fatalities in NYS?\n\n\n\nMaterials and methods\nNarrative: Clear narrative description of the data sources and methods. Includes data from at least two sources that were integrated / merged in R.\nData: The underlying data are publicly accessible via the web and downloaded/accessed within the Rmd script. If you want to use your own data, you must make it available on a website (e.g.Â Figshare) so that others are able to re-run your code.\nYou can do bullets like this:\n\nThe first most important thing\nThe second most important thing\nThe third most important thing\n\nYou can do numbers like this:\n\nThe first most important thing\nThe second most important thing\nThe third most important thing\n\n\n\nDownload and clean all required data\n\nif(!requireNamespace(\"tidyverse\", quietly = TRUE)){\n  install.packages(\"tidyverse\")\n}\nlibrary(tidyverse)\n\nif(!requireNamespace(\"dplyr\", quietly = TRUE)){\n  install.packages(\"dplyr\")\n}\nlibrary(dplyr)\n\nif(!requireNamespace(\"ggplot2\", quietly = TRUE)){\n  install.packages(\"ggplot2\")\n}\nlibrary(ggplot2)\n\nif(!requireNamespace(\"sf\", quietly = TRUE)){\n  install.packages(\"sf\")\n}\n\n# Downloading packages -------------------------------------------------------\n- Downloading sf from CRAN ...                  OK [3.6 Mb in 0.38s]\n- Downloading classInt from CRAN ...            OK [487.3 Kb in 0.35s]\n- Downloading e1071 from CRAN ...               OK [582.2 Kb in 0.35s]\n- Downloading proxy from CRAN ...               OK [171.5 Kb in 0.34s]\n- Downloading s2 from CRAN ...                  OK [2.1 Mb in 0.35s]\n- Downloading wk from CRAN ...                  OK [1.7 Mb in 0.37s]\n- Downloading units from CRAN ...               OK [354.5 Kb in 0.35s]\nSuccessfully downloaded 7 packages in 3.5 seconds.\n\nThe following package(s) will be installed:\n- classInt [0.4-10]\n- e1071    [1.7-16]\n- proxy    [0.4-27]\n- s2       [1.1.7]\n- sf       [1.0-19]\n- units    [0.8-5]\n- wk       [0.9.4]\nThese packages will be installed into \"~/work/final-project-andreaharder/final-project-andreaharder/renv/library/linux-ubuntu-jammy/R-4.4/x86_64-pc-linux-gnu\".\n\n# Installing packages --------------------------------------------------------\n- Installing proxy ...                          OK [installed binary and cached in 0.21s]\n- Installing e1071 ...                          OK [installed binary and cached in 0.22s]\n- Installing classInt ...                       OK [installed binary and cached in 0.23s]\n- Installing wk ...                             OK [installed binary and cached in 0.25s]\n- Installing s2 ...                             OK [installed binary and cached in 0.35s]\n- Installing units ...                          OK [installed binary and cached in 0.32s]\n- Installing sf ...                             OK [installed binary and cached in 0.59s]\nSuccessfully installed 7 packages in 2.4 seconds.\n\nlibrary(sf)\n\nif(!requireNamespace(\"knitr\", quietly = TRUE)){\n  install.packages(\"knitr\")\n}\nlibrary(knitr)\n\n#library(tidyverse)\n#library(dplyr)\n#library(ggplot2)\n#library(sf)\n#library(knitr)\n\n#Motor vehicle crashes case information: Filtered by year, crash descriptor (i.e. fatal accident), and event descriptor (i.e. pedestrian collision with)\ndata2019ped &lt;- read.csv(\"https://data.ny.gov/resource/e8ky-4vqe.csv?$query=SELECT%0A%20%20%60year%60%2C%0A%20%20%60accident_descriptor%60%2C%0A%20%20%60time%60%2C%0A%20%20%60date%60%2C%0A%20%20%60day_of_week%60%2C%0A%20%20%60police_report%60%2C%0A%20%20%60lighting_conditions%60%2C%0A%20%20%60municipality%60%2C%0A%20%20%60collision_type_descriptor%60%2C%0A%20%20%60county_name%60%2C%0A%20%20%60road_descriptor%60%2C%0A%20%20%60weather_conditions%60%2C%0A%20%20%60traffic_control_device%60%2C%0A%20%20%60road_surface_conditions%60%2C%0A%20%20%60dot_reference_marker_location%60%2C%0A%20%20%60pedestrian_bicyclist_action%60%2C%0A%20%20%60event_descriptor%60%2C%0A%20%20%60number_of_vehicles_involved%60%0AWHERE%0A%20%20(%60year%60%20IN%20(%222019%22))%0A%20%20AND%20(caseless_one_of(%60accident_descriptor%60%2C%20%22Fatal%20Accident%22)%0A%20%20%20%20%20%20%20%20%20AND%20caseless_one_of(%0A%20%20%20%20%20%20%20%20%20%20%20%60event_descriptor%60%2C%0A%20%20%20%20%20%20%20%20%20%20%20%22Pedestrian%2C%20Collision%20With%22%0A%20%20%20%20%20%20%20%20%20))\")\n\ndata2020ped &lt;- read.csv(\"https://data.ny.gov/resource/e8ky-4vqe.csv?$query=SELECT%0A%20%20%60year%60%2C%0A%20%20%60accident_descriptor%60%2C%0A%20%20%60time%60%2C%0A%20%20%60date%60%2C%0A%20%20%60day_of_week%60%2C%0A%20%20%60police_report%60%2C%0A%20%20%60lighting_conditions%60%2C%0A%20%20%60municipality%60%2C%0A%20%20%60collision_type_descriptor%60%2C%0A%20%20%60county_name%60%2C%0A%20%20%60road_descriptor%60%2C%0A%20%20%60weather_conditions%60%2C%0A%20%20%60traffic_control_device%60%2C%0A%20%20%60road_surface_conditions%60%2C%0A%20%20%60dot_reference_marker_location%60%2C%0A%20%20%60pedestrian_bicyclist_action%60%2C%0A%20%20%60event_descriptor%60%2C%0A%20%20%60number_of_vehicles_involved%60%0AWHERE%0A%20%20(%60year%60%20IN%20(%222020%22))%0A%20%20AND%20(caseless_one_of(%60accident_descriptor%60%2C%20%22Fatal%20Accident%22)%0A%20%20%20%20%20%20%20%20%20AND%20caseless_one_of(%0A%20%20%20%20%20%20%20%20%20%20%20%60event_descriptor%60%2C%0A%20%20%20%20%20%20%20%20%20%20%20%22Pedestrian%2C%20Collision%20With%22%0A%20%20%20%20%20%20%20%20%20))\")\n\ndata2021ped &lt;- read.csv(\"https://data.ny.gov/resource/e8ky-4vqe.csv?$query=SELECT%0A%20%20%60year%60%2C%0A%20%20%60accident_descriptor%60%2C%0A%20%20%60time%60%2C%0A%20%20%60date%60%2C%0A%20%20%60day_of_week%60%2C%0A%20%20%60police_report%60%2C%0A%20%20%60lighting_conditions%60%2C%0A%20%20%60municipality%60%2C%0A%20%20%60collision_type_descriptor%60%2C%0A%20%20%60county_name%60%2C%0A%20%20%60road_descriptor%60%2C%0A%20%20%60weather_conditions%60%2C%0A%20%20%60traffic_control_device%60%2C%0A%20%20%60road_surface_conditions%60%2C%0A%20%20%60dot_reference_marker_location%60%2C%0A%20%20%60pedestrian_bicyclist_action%60%2C%0A%20%20%60event_descriptor%60%2C%0A%20%20%60number_of_vehicles_involved%60%0AWHERE%0A%20%20(%60year%60%20IN%20(%222021%22))%0A%20%20AND%20(caseless_one_of(%60accident_descriptor%60%2C%20%22Fatal%20Accident%22)%0A%20%20%20%20%20%20%20%20%20AND%20caseless_one_of(%0A%20%20%20%20%20%20%20%20%20%20%20%60event_descriptor%60%2C%0A%20%20%20%20%20%20%20%20%20%20%20%22Pedestrian%2C%20Collision%20With%22%0A%20%20%20%20%20%20%20%20%20))\")\n\ndata2022ped &lt;- read.csv(\"https://data.ny.gov/resource/e8ky-4vqe.csv?$query=SELECT%0A%20%20%60year%60%2C%0A%20%20%60accident_descriptor%60%2C%0A%20%20%60time%60%2C%0A%20%20%60date%60%2C%0A%20%20%60day_of_week%60%2C%0A%20%20%60police_report%60%2C%0A%20%20%60lighting_conditions%60%2C%0A%20%20%60municipality%60%2C%0A%20%20%60collision_type_descriptor%60%2C%0A%20%20%60county_name%60%2C%0A%20%20%60road_descriptor%60%2C%0A%20%20%60weather_conditions%60%2C%0A%20%20%60traffic_control_device%60%2C%0A%20%20%60road_surface_conditions%60%2C%0A%20%20%60dot_reference_marker_location%60%2C%0A%20%20%60pedestrian_bicyclist_action%60%2C%0A%20%20%60event_descriptor%60%2C%0A%20%20%60number_of_vehicles_involved%60%0AWHERE%0A%20%20(%60year%60%20IN%20(%222022%22))%0A%20%20AND%20(caseless_one_of(%60accident_descriptor%60%2C%20%22Fatal%20Accident%22)%0A%20%20%20%20%20%20%20%20%20AND%20caseless_one_of(%0A%20%20%20%20%20%20%20%20%20%20%20%60event_descriptor%60%2C%0A%20%20%20%20%20%20%20%20%20%20%20%22Pedestrian%2C%20Collision%20With%22%0A%20%20%20%20%20%20%20%20%20))\")\n\ndata2023ped &lt;- read.csv(\"https://data.ny.gov/resource/e8ky-4vqe.csv?$query=SELECT%0A%20%20%60year%60%2C%0A%20%20%60accident_descriptor%60%2C%0A%20%20%60time%60%2C%0A%20%20%60date%60%2C%0A%20%20%60day_of_week%60%2C%0A%20%20%60police_report%60%2C%0A%20%20%60lighting_conditions%60%2C%0A%20%20%60municipality%60%2C%0A%20%20%60collision_type_descriptor%60%2C%0A%20%20%60county_name%60%2C%0A%20%20%60road_descriptor%60%2C%0A%20%20%60weather_conditions%60%2C%0A%20%20%60traffic_control_device%60%2C%0A%20%20%60road_surface_conditions%60%2C%0A%20%20%60dot_reference_marker_location%60%2C%0A%20%20%60pedestrian_bicyclist_action%60%2C%0A%20%20%60event_descriptor%60%2C%0A%20%20%60number_of_vehicles_involved%60%0AWHERE%0A%20%20(%60year%60%20IN%20(%222023%22))%0A%20%20AND%20(caseless_one_of(%60accident_descriptor%60%2C%20%22Fatal%20Accident%22)%0A%20%20%20%20%20%20%20%20%20AND%20caseless_one_of(%0A%20%20%20%20%20%20%20%20%20%20%20%60event_descriptor%60%2C%0A%20%20%20%20%20%20%20%20%20%20%20%22Pedestrian%2C%20Collision%20With%22%0A%20%20%20%20%20%20%20%20%20))\")\n\n#Combine the datasets\nCaseInfo &lt;- rbind(data2019ped,data2020ped,data2021ped,data2022ped,data2023ped)\n\n#Motor vehicle crashes individual information: Filtered by year, role type (i.e. pedestrian), and injury severeity (i.e. killed)\n\nInd2019ped &lt;- read.csv(\"https://data.ny.gov/resource/ir4y-sesj.csv?$query=SELECT%0A%20%20%60year%60%2C%0A%20%20%60case_individual_id%60%2C%0A%20%20%60case_vehicle_id%60%2C%0A%20%20%60victim_status%60%2C%0A%20%20%60role_type%60%2C%0A%20%20%60seating_position%60%2C%0A%20%20%60ejection%60%2C%0A%20%20%60license_state_code%60%2C%0A%20%20%60gender%60%2C%0A%20%20%60transported_by%60%2C%0A%20%20%60safety_equipment%60%2C%0A%20%20%60injury_descriptor%60%2C%0A%20%20%60injury_location%60%2C%0A%20%20%60injury_severity%60%2C%0A%20%20%60age%60%0AWHERE%0A%20%20(%60year%60%20IN%20(%222019%22))%0A%20%20AND%20(caseless_one_of(%60role_type%60%2C%20%22Pedestrian%22)%0A%20%20%20%20%20%20%20%20%20AND%20caseless_one_of(%60injury_severity%60%2C%20%22Killed%22))\")\n\nInd2020ped &lt;- read.csv(\"https://data.ny.gov/resource/ir4y-sesj.csv?$query=SELECT%0A%20%20%60year%60%2C%0A%20%20%60case_individual_id%60%2C%0A%20%20%60case_vehicle_id%60%2C%0A%20%20%60victim_status%60%2C%0A%20%20%60role_type%60%2C%0A%20%20%60seating_position%60%2C%0A%20%20%60ejection%60%2C%0A%20%20%60license_state_code%60%2C%0A%20%20%60gender%60%2C%0A%20%20%60transported_by%60%2C%0A%20%20%60safety_equipment%60%2C%0A%20%20%60injury_descriptor%60%2C%0A%20%20%60injury_location%60%2C%0A%20%20%60injury_severity%60%2C%0A%20%20%60age%60%0AWHERE%0A%20%20(%60year%60%20IN%20(%222020%22))%0A%20%20AND%20(caseless_one_of(%60role_type%60%2C%20%22Pedestrian%22)%0A%20%20%20%20%20%20%20%20%20AND%20caseless_one_of(%60injury_severity%60%2C%20%22Killed%22))\")\n\nInd2021ped &lt;- read.csv(\"https://data.ny.gov/resource/ir4y-sesj.csv?$query=SELECT%0A%20%20%60year%60%2C%0A%20%20%60case_individual_id%60%2C%0A%20%20%60case_vehicle_id%60%2C%0A%20%20%60victim_status%60%2C%0A%20%20%60role_type%60%2C%0A%20%20%60seating_position%60%2C%0A%20%20%60ejection%60%2C%0A%20%20%60license_state_code%60%2C%0A%20%20%60gender%60%2C%0A%20%20%60transported_by%60%2C%0A%20%20%60safety_equipment%60%2C%0A%20%20%60injury_descriptor%60%2C%0A%20%20%60injury_location%60%2C%0A%20%20%60injury_severity%60%2C%0A%20%20%60age%60%0AWHERE%0A%20%20(%60year%60%20IN%20(%222021%22))%0A%20%20AND%20(caseless_one_of(%60role_type%60%2C%20%22Pedestrian%22)%0A%20%20%20%20%20%20%20%20%20AND%20caseless_one_of(%60injury_severity%60%2C%20%22Killed%22))\")\n\nInd2022ped &lt;- read.csv(\"https://data.ny.gov/resource/ir4y-sesj.csv?$query=SELECT%0A%20%20%60year%60%2C%0A%20%20%60case_individual_id%60%2C%0A%20%20%60case_vehicle_id%60%2C%0A%20%20%60victim_status%60%2C%0A%20%20%60role_type%60%2C%0A%20%20%60seating_position%60%2C%0A%20%20%60ejection%60%2C%0A%20%20%60license_state_code%60%2C%0A%20%20%60gender%60%2C%0A%20%20%60transported_by%60%2C%0A%20%20%60safety_equipment%60%2C%0A%20%20%60injury_descriptor%60%2C%0A%20%20%60injury_location%60%2C%0A%20%20%60injury_severity%60%2C%0A%20%20%60age%60%0AWHERE%0A%20%20(%60year%60%20IN%20(%222022%22))%0A%20%20AND%20(caseless_one_of(%60role_type%60%2C%20%22Pedestrian%22)%0A%20%20%20%20%20%20%20%20%20AND%20caseless_one_of(%60injury_severity%60%2C%20%22Killed%22))\")\n\nInd2023ped &lt;- read.csv(\"https://data.ny.gov/resource/ir4y-sesj.csv?$query=SELECT%0A%20%20%60year%60%2C%0A%20%20%60case_individual_id%60%2C%0A%20%20%60case_vehicle_id%60%2C%0A%20%20%60victim_status%60%2C%0A%20%20%60role_type%60%2C%0A%20%20%60seating_position%60%2C%0A%20%20%60ejection%60%2C%0A%20%20%60license_state_code%60%2C%0A%20%20%60gender%60%2C%0A%20%20%60transported_by%60%2C%0A%20%20%60safety_equipment%60%2C%0A%20%20%60injury_descriptor%60%2C%0A%20%20%60injury_location%60%2C%0A%20%20%60injury_severity%60%2C%0A%20%20%60age%60%0AWHERE%0A%20%20(%60year%60%20IN%20(%222023%22))%0A%20%20AND%20(caseless_one_of(%60role_type%60%2C%20%22Pedestrian%22)%0A%20%20%20%20%20%20%20%20%20AND%20caseless_one_of(%60injury_severity%60%2C%20%22Killed%22))\")\n\n#Combine the datasets\nIndividualInfo &lt;- rbind(Ind2019ped,Ind2020ped,Ind2021ped,Ind2022ped,Ind2023ped)\n\n#Load shapefiles\n\n#Plot 1: Individual Information Pedestrian Fatalities Overtime\nYearCount &lt;- IndividualInfo%&gt;%\ngroup_by(year)%&gt;%\nsummarize(n = n())\n\nggplot()+\ngeom_line(data = YearCount, aes(x=year, y = n))+\n   ggtitle(\"Pedestrian Fatalities Overtime\", subtitle = \"NYS 2019-2023\")+\n  theme(plot.title = element_text(hjust = 0.5), plot.subtitle = element_text(hjust = 0.5))+\n  xlab(\"Year\")+\n  ylab(\"Fatalities\")\n\n\n\n\n\n\n\n#Plot 2: Case Information Fatalities overtime\nYearCountCase &lt;- CaseInfo%&gt;%\ngroup_by(year)%&gt;%\nsummarize(n = n())\n\nggplot()+\ngeom_line(data = YearCountCase, aes(x=year, y = n))+\n  ggtitle(\"Pedestrian Fatalities Overtime\", subtitle = \"NYS 2019-2023\")+\n  theme(plot.title = element_text(hjust = 0.5), plot.subtitle = element_text(hjust = 0.5))+\n  xlab(\"Year\")+\n  ylab(\"Fatalities\")\n\n\n\n\n\n\n\n#Plot 3: Individual Information Age\nAge &lt;-IndividualInfo$age \n  hist(Age, breaks=c(0,10,20,30,40,50,60,70,80,90,100), xlim=c(0,100))\n\n\n\n\n\n\n\n#Plot 4: Case Information Day of Week\nDayofWeek &lt;- CaseInfo %&gt;%\nmutate(day_of_week = factor(day_of_week, levels = c(\"Monday\",\"Tuesday\",\"Wednesday\",\"Thursday\",\"Friday\",\"Saturday\",\"Sunday\"),ordered = TRUE))%&gt;%\n  group_by(day_of_week)%&gt;%\n  count(day_of_week)\nnames(DayofWeek)[2] &lt;- \"Count\"\n\nggplot(data = DayofWeek, aes(x= day_of_week, y= Count))+\n  geom_bar(stat = \"identity\")+\n  ggtitle(\"Pedestrian Fatalities by Day of Week\", subtitle = \"NYS 2019-2023\")+\n  theme(plot.title = element_text(hjust = 0.5), plot.subtitle = element_text(hjust = 0.5))+\n  xlab(\"Day of Week\")+\n  ylab(\"Fatalities\")\n\n\n\n\n\n\n\n#Plot 5: Case Information Crashes by County and reference marker\n\n#Plot 7: Case Information Weather \nWeather &lt;- CaseInfo %&gt;%\n  group_by(weather_conditions)%&gt;%\n  count(weather_conditions)\nnames(Weather)[2] &lt;- \"Count\"\n\nggplot(data = Weather, aes(x= weather_conditions, y= Count))+\n  geom_bar(stat = \"identity\")+\n   ggtitle(\"Pedestrian Fatalities by Weather Conditions\", subtitle = \"NYS 2019-2023\")+\n  theme(plot.title = element_text(hjust = 0.5), plot.subtitle = element_text(hjust = 0.5))+\n  xlab(\"Weather Conditions\")+\n  ylab(\"Fatalities\")\n\n\n\n\n\n\n\n#Plot 8: Case Information Pedestrian action\nAction &lt;- CaseInfo %&gt;%\n  group_by(pedestrian_bicyclist_action)%&gt;%\n  count(pedestrian_bicyclist_action)%&gt;%\n  arrange(desc(n))\nnames(Action)[1] &lt;- \"Pedestrian Action\"\nnames(Action)[2] &lt;- \"Count\"\nkable(Action)\n\n\n\n\nPedestrian Action\nCount\n\n\n\n\nCrossing, No Signal or Crosswalk\n481\n\n\nOther Actions in Roadway\n179\n\n\nCrossing, Against Signal\n134\n\n\nCrossing, With Signal\n123\n\n\nRiding/Walking/Skating Along Highway With Traffic\n95\n\n\nUnknown\n94\n\n\nCrossing, No Signal, Marked Crosswalk\n74\n\n\nNot in Roadway (Indicate)\n45\n\n\nRiding/Walking/Skating Along Highway Against Traffic\n29\n\n\nWorking in Roadway\n25\n\n\nEmerging from in Front of/Behind Parked Vehicle\n13\n\n\nPlaying in Roadway\n6\n\n\nGetting On/Off Vehicle Other than School Bus\n2\n\n\nGoing to/From Stopped School Bus\n1\n\n\n\n\n\n\n\nResults\nTables and figures (maps and other graphics) are carefully planned to convey the results of your analysis. Intense exploration and evidence of many trials and failures. The author looked at the data in many different ways before coming to the final presentation of the data.\nShow tables, plots, etc. and describe them.\n\n\nConclusions\nClear summary adequately describing the results and putting them in context. Discussion of further questions and ways to continue investigation.\n\n\nReferences\nAll sources are cited in a consistent manner"
  },
  {
    "objectID": "data/Readme.html",
    "href": "data/Readme.html",
    "title": "GEO511_FinalProject",
    "section": "",
    "text": "Place any data needed by your analysis in this folder. Please do not store large files here. Then read in any data using the âdataâ path. For example, read_csv(\"data/data.csv\")."
  },
  {
    "objectID": "about.html",
    "href": "about.html",
    "title": "About",
    "section": "",
    "text": "About this site\n\n1 + 1\n\n[1] 2"
  }
]